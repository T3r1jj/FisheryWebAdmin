<md-dialog flex style="max-width: 100%; max-height: 100%;">
    <md-dialog-content class="md-dialog-content">

        <h2 class="md-title" ng-bind="operation"></h2>

        <p ng-if="form.$submitted && form.$invalid" class="md-warn" layout="row" layout-align="start center">
            <span class="error-label">*&nbsp; Please fill in required fields.</span>
        </p>

        <form name="form" layout="column">
            <div layout="column" ng-show="info">
                <md-progress-linear md-mode="query"
                                    ng-disabled="info.images.hide && info.fish.hide && info.protection.hide"></md-progress-linear>
                <div ng-repeat="information in info" ng-if="!information.hide">
                    <span flex ng-bind="information.description" style="vertical-align: middle"></span>
                    <md-button class="md-icon-button" ng-show="information.refresh" ng-click="refresh(information)"
                               aria-label="Refresh fetching" style="margin-left: 8px">
                        <md-icon ng-md-icon class="md-icon-accent-refresh" icon="refresh"></md-icon>
                    </md-button>
                </div>
            </div>
            <div layout="row" flex>
                <md-card layout="column" flex>
                    <md-card-content flex>
                        <div layout="row" class="input-row">
                            <md-input-container flex>
                                <label for="manage-sci-name">Scientific name</label>
                                <input id="manage-sci-name" name="sci-name" ng-model="fish.name" required>
                            </md-input-container>
                            <md-input-container flex>
                                <label for="manage-common-name">Name</label>
                                <input id="manage-common-name" name="name" ng-model="fish.commonName">
                            </md-input-container>
                            <md-input-container flex>
                                <label for="manage-local-name">Local name</label>
                                <input id="manage-local-name" name="local-name" ng-model="fish.localName">
                            </md-input-container>
                        </div>
                        <h3 class="md-subhead">Description</h3>
                        <div layout="row" class="input-row">
                            <md-input-container flex>
                                <label for="manage-description">Text (optional)</label>
                                <textarea id="manage-description" name="description"
                                          ng-model="fish.description"></textarea>
                            </md-input-container>
                        </div>
                        <h3 class="md-subhead">Biology</h3>
                        <div layout="row" class="input-row">
                            <md-input-container flex>
                                <label for="manage-biology">Text (optional)</label>
                                <textarea id="manage-biology" name="description" ng-model="fish.biology"></textarea>
                            </md-input-container>
                        </div>
                        <h3 class="md-subhead">Size</h3>
                        <div layout="row" class="input-row">
                            <md-input-container flex>
                                <label for="manage-length">Length [m]</label>
                                <input id="manage-length" type="number" min="0" name="length"
                                       ng-model="fish.length">
                            </md-input-container>
                            <md-input-container flex>
                                <label for="manage-weight">Weight [kg]</label>
                                <input id="manage-weight" type="number" min="0" name="weight"
                                       ng-model="fish.weight">
                            </md-input-container>
                        </div>
                    </md-card-content>
                </md-card>
                <md-card layout="column" flex>
                    <md-card-content flex>
                        <h3 class="md-subhead">Protection</h3>
                        <div layout="row" class="input-row">
                            <md-input-container flex>
                                <label for="manage-protection-assessment">Assessment</label>
                                <input id="manage-protection-assessment" name="assessment"
                                       ng-model="fish.protection.assessment">
                            </md-input-container>
                            <md-input-container>
                                <label for="manage-protection-status">Status</label>
                                <input id="manage-protection-status" name="status" ng-model="fish.protection.status">
                            </md-input-container>
                        </div>
                        <h3 class="md-subhead">Conservation</h3>
                        <div layout="row" class="input-row">
                            <md-input-container flex>
                                <label for="manage-protection-conservation">Text (optional)</label>
                                <textarea id="manage-protection-conservation" name="conservation"
                                          ng-model="fish.protection.conservation"></textarea>
                            </md-input-container>
                        </div>
                        <h3 class="md-subhead">Use and trade</h3>
                        <div layout="row" class="input-row">
                            <md-input-container flex>
                                <label for="manage-protection-use-and-trade">Text (optional)</label>
                                <textarea id="manage-protection-use-and-trade" name="use-and-trade"
                                          ng-model="fish.protection.useAndTrade"></textarea>
                            </md-input-container>
                        </div>
                        <div layout="row" class="input-row">
                            <md-input-container flex>
                                <label for="manage-protection-copyright">Protection info copyright</label>
                                <input id="manage-protection-copyright" name="copyright"
                                       ng-model="fish.protection.copyright">
                            </md-input-container>
                        </div>
                    </md-card-content>
                </md-card>
            </div>
            <md-card layout="row" class="input-row">
                <md-card-content flex class="md-cut-card-content" layout="row" style="padding-bottom: 0">
                    <md-input-container flex class="md-cut-card-content">
                        <label for="manage-image">Image url</label>
                        <input id="manage-image" name="image" ng-model="fish.img" flex>
                    </md-input-container>
                    <md-input-container flex class="md-cut-card-content">
                        <label for="manage-image-copyright">Image copyright</label>
                        <input id="manage-image-copyright" name="image-copyright" ng-model="fish.imgAuthor" flex>
                    </md-input-container>
                </md-card-content>
            </md-card>
        </form>
    </md-dialog-content>

    <md-dialog-actions>
        <md-button class="md-primary" ng-click="ctrl.manageItem()" ng-disabled="form.$invalid"
                   ng-bind="operationConfirm" aria-label="Confirm"></md-button>
        <md-button class="md-primary" ng-click="ctrl.cancel()" aria-label="Cancel">Cancel</md-button>
    </md-dialog-actions>

</md-dialog>